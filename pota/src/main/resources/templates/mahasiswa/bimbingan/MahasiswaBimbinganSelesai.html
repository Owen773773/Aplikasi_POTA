<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POTA - Selesai</title>
    <link rel="stylesheet" href="/css/Bimbingan.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>

    <div class="main">

        <aside class="sidebar">
            <div class="logo-container">
                <img src="/assets/icons/logo.svg">
                <span class="text-navbar">POTA</span>
            </div>

            <nav class="nav-menu">
                <a th:href="@{/mahasiswa/beranda}" class="nav-item">
                    <img th:src="@{/assets/icons/ManajemenAkun.svg}" alt="" class="nav-icon" />
                    <span>Beranda</span>
                </a>

                <a th:href="@{/mahasiswa/jadwal}" class="nav-item">
                    <img th:src="@{/assets/icons/Jadwal.svg}" alt="" class="nav-icon" />
                    <span>Jadwal</span>
                </a>

                <a th:href="@{/templates/mahasiswa/bimbingan}" class="nav-item active">
                    <img th:src="@{/assets/icons/Bimbingan.svg}" alt="" class="nav-icon" />
                    <span>Bimbingan</span>
                </a>

                <a th:href="@{/mahasiswa/notifikasi}" class="nav-item">
                    <img th:src="@{/assets/icons/Notifikasi.svg}" alt="" class="nav-icon" />
                    <span>Notifikasi</span>
                </a>

                <a th:href="@{/mahasiswa/profil}" class="nav-item">
                    <img th:src="@{/assets/icons/Profil.svg}" alt="" class="nav-icon" />
                    <span>Profil</span>
                </a>

            </nav>

            <div class="logout-section">
                <form th:action="@{/logout}" method="post" style="margin: 0;">
                    <button type="submit" class="btn-logout">
                        <img th:src="@{/assets/icons/LogOut.svg}" alt="" />
                        Log Out
                    </button>
                </form>
            </div>
        </aside>

        <main class="main-content">
            <h1 class="page-title">Bimbingan</h1>

            <div class="tab-menu">
                <a class="tab" th:href="@{/mahasiswa/bimbinganProses}">Proses</a>
                <a class="tab" th:href="@{/mahasiswa/bimbinganTerjadwal}">Terjadwalkan</a>
                <a class="tab active" th:href="@{/mahasiswa/bimbinganSelesai}">Selesai</a>
                <a class="tab" th:href="@{/mahasiswa/bimbinganGagal}">Gagal</a>
            </div>

            <div class="bimbingan-list">

                <!-- Tempat buat nampilin Data -->
                <div class="card" th:each="bimbingan : ${listBimbingan}" >
                    <div class="card-header">
                        <span th:text="${bimbingan.tanggal}">10/10/2025 </span>
                        <span th:text="${bimbingan.jam}">10.00 - 11.00</span>
                        <span th:text="${bimbingan.namaLokasi}">Ruang Tugas Akhir</span>
                        <img src="/assets/icons/Arrow.svg" class="dropdown-btn">
                    </div>

                    <div class="card-body">
                        <div class="containerutama">
                            <p class="item">Rincian Bimbingan</p>
                            <div class="containerItem">
                                <div class="containerGrid">
                                    <p class="itemkiri">Tanggal</p>
                                    <p class="itemkanan" th:text="${bimbingan.tanggal}">: 10/10/2025</p>
                                    <p class="itemkiri">Jam</p>
                                    <p class="itemkanan" th:text="${bimbingan.jam}">: 10.00 - 11.00</p>
                                    <p class="itemkiri">Durasi</p>
                                    <p class="itemkanan" th:text="${bimbingan.durasi}">: 1 Jam</p>
                                    <p class="itemkiri">Lokasi</p>
                                    <p class="itemkanan" th:text="${bimbingan.namaLokasi}">: Ruang Tugas Akhir</p>
                                    <p class="itemkiri">Dosen</p>
                                    <p class="itemkanan" th:text="${bimbingan.dosen}">: Maria Veronica</p>
                                    <p class="itemkiri">Mahasiswa</p>
                                    <p class="itemkanan" th:each="mahasiswa : ${bimbingan.mahasiswa}">
                                        : <span th:text="${mahasiswa}">-</span>
                                    </p>
                                </div>

                                <div class="containerGrid2">
                                    <p class="itemkiri" style="grid-area: kiri1;">Topik</p>
                                    <p class="itemkanan" style="grid-area: kanan1;" th:text="${bimbingan.topik}">: Bimbingan Mingguan</p>
                                    <p class="itemkiri" style="grid-area: kiri2;">Deskripsi Topik</p>
                                    <p class="itemkanan" style="grid-area: kanan2;" th:text="${bimbingan.deskripsi}">: -</p>
                                    <textarea id="catatan" name="catatan" rows="4" cols="50"
                                              placeholder="Catatan Bimbingan..." disabled style="grid-area: note;">Catatan bimbingan selesai...</textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        document.querySelectorAll(".dropdown-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                let card = btn.closest(".card");
                card.classList.toggle("open");
            });
        });


        document.querySelectorAll(".nav-item").forEach(item => {
            if (item.textContent.trim() === document.title.replace("POTA - ", "")) {
                item.classList.add("active");
            }
        });



    </script>

</body>

</html>