<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POTA - Notifikasi</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/NotifikasiMahasiswa.css">
</head>

<body>

    <div class="main">
        <aside class="sidebar">
            <div class="logo-container">
                <img th:src="@{/assets/icons/logo.svg}" alt="Logo POTA" class="logo-icon"/>
                <span class="logo-text">POTA</span>
            </div>

            <nav class="nav-menu">
                <a th:href="@{/mahasiswa/beranda}" class="nav-item">
                    <img th:src="@{/assets/icons/ManajemenAkun.svg}" alt="" class="nav-icon"/>
                    <span>Beranda</span>
                </a>

                <a th:href="@{/mahasiswa/jadwal}" class="nav-item">
                    <img th:src="@{/assets/icons/Jadwal.svg}" alt="" class="nav-icon"/>
                    <span>Jadwal</span>
                </a>

                <a th:href="@{/mahasiswa/bimbingan}" class="nav-item">
                    <img th:src="@{/assets/icons/Bimbingan.svg}" alt="" class="nav-icon"/>
                    <span>Bimbingan</span>
                </a>

                <a th:href="@{/mahasiswa/notifikasi}" class="nav-item active">
                    <img th:src="@{/assets/icons/Notifikasi.svg}" alt="" class="nav-icon"/>
                    <span>Notifikasi</span>
                </a>

                <a th:href="@{/mahasiswa/profil}" class="nav-item">
                    <img th:src="@{/assets/icons/Profil.svg}" alt="" class="nav-icon"/>
                    <span>Profil</span>
                </a>

            </nav>

            <div class="logout-section">
                <form th:action="@{/logout}" method="post" style="margin: 0;">
                    <button type="submit" class="btn-logout">
                        <img th:src="@{/assets/icons/LogOut.svg}" alt=""/>
                        Log Out
                    </button>
                </form>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <h1 class="page-title">Notifikasi</h1>

            <div class="notif-container">

                <div th:each="notif : ${daftarNotifikasi}">
                    
                    <div class="notif-card">
                        
                        <span class="status-badge"
                              th:classappend="${notif.tipeNotif == 'Diterima' ? 'green' : 
                                               (notif.tipeNotif == 'Menunggu' ? 'yellow' : 'red')}"
                              th:text="${notif.tipeNotif == 'Diterima' ? 'Disetujui' : notif.tipeNotif}">
                        </span>

                        <p class="notif-text" th:text="${notif.pesanDiFrontend}">
                            Isi notifikasi...
                        </p>

                        <span class="notif-date">
                            <img th:src="@{/assets/icons/JamBiru.svg}" alt=""> 
                            <span th:text="${#temporals.format(notif.waktuAcara, 'd MMMM yyyy, HH:mm')}"></span>
                        </span>

                    </div>
                    
                    <hr>
                </div>

                <div th:if="${#lists.isEmpty(daftarNotifikasi)}" 
                     style="text-align: center; padding: 20px; color: #888;">
                    <p>Belum ada notifikasi terbaru.</p>
                </div>

            </div>
        </main>
    </div>

</body>

</html>